@(pr_code: String, pr_action: String, p_form: play.data.Form[models.Product])

@implicitFieldConstructor = @{
    b3.horizontal.fieldConstructor("col-md-3", "col-md-9")
}
@import helper._
<div class="right_col" role="main">
    <div class="">
        <div class="page-title">
            <div class="title_left">
                <h3>Product</h3>
            </div>
            @general_content.search_field("search field")
        </div>
        <div class="clearfix"></div>
        @general_content.notification_section("notification section")
        <div class="row">
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>@pr_action - @pr_code</h2>

                        <div class="pull-right">
                            <button class="btn btn-primary" type="reset">New</button>
                            <button class="btn btn-danger" type="reset">Deactivate</button>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <br/>

                        <div class="" role="tabpanel" data-example-id="togglable-tabs">
                            <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                                <li role="presentation" class="active">
                                    <a href="#tab_content1" id="home-tab" role="tab"
                                    data-toggle="tab"
                                    aria-expanded="true">Product Info</a>
                                </li>
                                <li role="presentation" class="">
                                    <a href="#tab_content2" role="tab" id="profile-tab"
                                    data-toggle="tab" aria-expanded="false">Extra Info</a>
                                </li>
                            </ul>
                            <div id="myTabContent" class="tab-content">
                                <div role="tabpanel" class="tab-pane fade active in" id="tab_content1"
                                aria-labelledby="home-tab">
                                @b3.formCSRF(controllers.dekottena.routes.ProductController.save(), 'id -> "pr_form",
                                    'enctype -> "multipart/form-data") {

                                    <div class="row">
                                        <div class="col-md-6 col-sm-12 col-xs-12">
                                            @b3.text(p_form("title"), 'class -> "form-control", '_label -> "Title")
                                            @b3.textarea(p_form("boldText"), 'class -> "form-control", '_label -> "Bolt Text")
                                            @b3.textarea(p_form("homeDescription"), 'class -> "form-control", '_label -> "Home Description")
                                            @b3.textarea(p_form("shortDescription"), 'class -> "form-control", '_label -> "Short Description")
                                            @b3.textarea(p_form("longDescription"), 'class -> "form-control", '_label -> "Long Description")
                                            @b3.file(p_form("mainImage"), '_label -> "Main Image")
                                            @b3.file(p_form("sideView"), '_label -> "Side View Image")
                                            @b3.textarea(p_form("remark"),
                                                'id -> "c_remark", 'class -> "form-control", '_label -> "Remark")
                                        </div>
                                        <div class="col-md-6 col-sm-12 col-xs-12">

                                            <fieldset>
                                                <legend>Coating:</legend>

                                                @helper.repeat(p_form("productHasCoatings"), min = 1) { coating =>

                                                    <div class='checkbox'>
                                                        <label>
                                                            <input type='checkbox' name='coatings[]' @if(coating("coating.selected").value.get == "true") {
                                                                checked="checked"
                                                            } value="@coating("coating.code").value" class='flat'>
                                                                @coating("coating.title").value
                                                        </label>
                                                        <img class="img-thumbnail" style="max-width: 20%" src="@if(coating("coating.imgPath").value == null || coating("coating.imgPath").value.isEmpty) {
                                                            @routes.Assets.versioned("images/no-image-icon.png")
                                                        } else {
                                                            @coating("coating.imgPath").value
                                                        }">
                                                    </div>
                                                }
                                                @for(error <- p_form("productHasCoatings").errors) {
                                                    <span class="help-block" style="color: #a94442;">@error.message</span>
                                                }


                                            </fieldset>

                                            <br>
                                            <fieldset>
                                                <legend>Fitting:</legend>

                                                @helper.repeat(p_form("productHasFittings"), min = 1) { fitting =>

                                                    <div class='checkbox'>
                                                        <label>
                                                            <input type='checkbox' name='fittings[]' @if(fitting("fitting.selected").value.get == "true") {
                                                                checked="checked"
                                                            } value="@fitting("fitting.code").value" class='flat'>
                                                                @fitting("fitting.title").value
                                                        </label>
                                                        <img class="img-thumbnail" style="max-width: 20%" src="@if(fitting("fitting.imgPath").value == null || fitting("fitting.imgPath").value.isEmpty) {
                                                            @routes.Assets.versioned("images/no-image-icon.png")
                                                        } else {
                                                            @fitting("fitting.imgPath").value
                                                        }">
                                                    </div>
                                                }

                                                @for(error <- p_form("productHasFittings").errors) {
                                                    <span class="help-block" style="color: #a94442;">@error.message</span>
                                                }

                                            </fieldset>
                                        </div>
                                    </div>
                                    <div class="ln_solid"></div>
                                    <input type="hidden" >
                                    @b3.free('_id -> "btn_group") {
                                        <button type="submit" class="btn btn-success"> Save</button>
                                        <button type="button" class="btn btn-primary"> Restore Back</button>
                                    }
                                }
                                </div>

                                <div role="tabpanel" class="tab-pane fade" id="tab_content2"
                                aria-labelledby="profile-tab">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>